library(openxlsx)
library(ggmap)
library(ggplot2)
register_google(key = "AIzaSyAFw3210sFaygVU_4ktse1_k2dja8nU1kk")
df_raw = read.xlsx("sidoAirInfo.xlsx", sheet = 1, startRow = 2)
city = gsub(" ", "", as.character(df_raw[1,2:18]))
city
PM = gsub(" ", "", as.numeric(as.character(df_raw[2, 2:18])))
PM
gc = geocode(enc2utf8(city))
df = data.frame(city = city,
pm = PM,
lon = gc$lon,
lat = gc$lat)
# ‘세종’이라는 ‘행(row)’ 전체를 삭제
df = df[df$city != "세종", ]
df
ggplot(data=df,
aes(x=reorder(city, -pm),
y=pm)) + geom_col() + xlab("city") + ylab("pm")
# 60241996 김민준 (융합소프트웨어학부 데이터사이언스 전공)
library(openxlsx)
library(ggmap)
library(ggplot2)
register_google(key = "AIzaSyAFw3210sFaygVU_4ktse1_k2dja8nU1kk")
df_raw = read.xlsx("sidoAirInfo.xlsx", sheet = 1, startRow = 2)
city = gsub(" ", "", as.character(df_raw[1,2:18]))
city
PM = as.numeric(gsub(" ", "", as.character(df_raw[2, 2:18])))
PM
gc = geocode(enc2utf8(city))
df = data.frame(city = city,
pm = PM,
lon = gc$lon,
lat = gc$lat)
# ‘세종’이라는 ‘행(row)’ 전체를 삭제
df = df[df$city != "세종", ]
df
ggplot(data=df,
aes(x=reorder(city, -pm),
y=pm)) + geom_col() + xlab("city") + ylab("pm")
# 2. 각지역별 초미세먼지 수치를 지도에 나타내어라
cen = c((max(df$lon) + min(df$lon)) / 2,
(max(df$lat) + min(df$lat)) / 2)
map = get_googlemap(center = cen, zoom = 7)
gmap = ggmap(map)
gmap + geom_point(data = df,
aes(x = lon, y = lat),
color = "red",
size = df$pm * 0.6,
alpha = 0.5)
gmap = ggmap(map)
gmap + geom_point(data = df,
aes(x = lon, y = lat),
color = "red",
size = df$pm * 0.6,
alpha = 0.5)
map=get_googlemap(center=lonlat,
maptype="roadmap",
zoom=13,
size=c(320,320))
getwd()
getwd()
setwd("/Users/viola_patrinii/Desktop/Univ-MajorHub/2025-Univ-2nd-Year/Introduction-to-Data-Science")
library(ggplot2)
library(ggmap)
library(readxl)
files <- c("201512","201606","201612","201706","201712")
#reopen with encoding: CP949
getwd()
setwd("/Users/viola_patrinii/Desktop/Univ-MajorHub/2025-Univ-2nd-Year/Introduction-to-Data-Science")
library(ggplot2)
library(ggmap)
library(readxl)
files <- c("201512","201606","201612","201706","201712")
columns <- c( "상가업소번호", "상호명", "상권업종대분류명", "상권업종중분류명",
"상권업종소분류명", "시군구명", "행정동명", "경도", "위도")
ds.total <- NULL
#ds$수집연월
#1: 201512
#2: 201606
#3: 201612
#4: 201706
#5: 201712
for (i in 1:length(files)) {
filename = paste("seoul_", files[i], "xlsx", sep="")
cat("read ", filename, "...\n")         # 읽을 파일 이름 출력
ds = readxl_excel(filename)
ds = data.frame(ds)
ds = ds[,columns]
ds$수집연월 = rep(i, nrow(ds))
ds.total = rbind(ds.total, ds)
}
#reopen with encoding: CP949
getwd()
setwd("/Users/viola_patrinii/Desktop/Univ-MajorHub/2025-Univ-2nd-Year/Introduction-to-Data-Science")
library(ggplot2)
library(ggmap)
library(readxl)
files <- c("201512","201606","201612","201706","201712")
columns <- c( "상가업소번호", "상호명", "상권업종대분류명", "상권업종중분류명",
"상권업종소분류명", "시군구명", "행정동명", "경도", "위도")
ds.total <- NULL
#ds$수집연월
#1: 201512
#2: 201606
#3: 201612
#4: 201706
#5: 201712
for (i in 1:length(files)) {
filename = paste("seoul_", files[i], "xlsx", sep="")
cat("read ", filename, "...\n")         # 읽을 파일 이름 출력
ds = read_excel(filename)
ds = data.frame(ds)
ds = ds[,columns]
ds$수집연월 = rep(i, nrow(ds))
ds.total = rbind(ds.total, ds)
}
#reopen with encoding: CP949
getwd()
setwd("/Users/viola_patrinii/Desktop/Univ-MajorHub/2025-Univ-2nd-Year/Introduction-to-Data-Science")
library(ggplot2)
library(ggmap)
library(readxl)
files <- c("201512","201606","201612","201706","201712")
columns <- c( "상가업소번호", "상호명", "상권업종대분류명", "상권업종중분류명",
"상권업종소분류명", "시군구명", "행정동명", "경도", "위도")
ds.total <- NULL
#ds$수집연월
#1: 201512
#2: 201606
#3: 201612
#4: 201706
#5: 201712
for (i in 1:length(files)) {
filename = paste("seoul_", files[i], ".xlsx", sep="")
cat("read ", filename, "...\n")         # 읽을 파일 이름 출력
ds = read_excel(filename)
ds = data.frame(ds)
ds = ds[,columns]
ds$수집연월 = rep(i, nrow(ds))
ds.total = rbind(ds.total, ds)
}
getwd()
setwd("/Users/viola_patrinii/Desktop/Univ-MajorHub/2025-Univ-2nd-Year/Introduction-to-Data-Science")
library(ggplot2)
library(ggmap)
library(readxl)
files <- c("201512","201606","201612","201706","201712")
columns <- c( "상가업소번호", "상호명", "상권업종대분류명", "상권업종중분류명",
"상권업종소분류명", "시군구명", "행정동명", "경도", "위도")
ds.total <- NULL
#ds$수집연월
#1: 201512
#2: 201606
#3: 201612
#4: 201706
#5: 201712
for (i in 1:length(files)) {
filename = paste("seoul_", files[i], ".xlsx", sep="")
cat("read ", filename, "...\n")         # 읽을 파일 이름 출력
ds = read_excel(filename)
ds = data.frame(ds)
ds = ds[,columns]
ds$수집연월 = rep(i, nrow(ds))
ds.total = rbind(ds.total, ds)
}
#reopen with encoding: CP949
getwd()
setwd("/Users/viola_patrinii/Desktop/Univ-MajorHub/2025-Univ-2nd-Year/Introduction-to-Data-Science")
library(ggplot2)
library(ggmap)
library(readxl)
files <- c("201512","201606","201612","201706","201712")
columns <- c( "상가업소번호", "상호명", "상권업종대분류명", "상권업종중분류명",
"상권업종소분류명", "시군구명", "행정동명", "경도", "위도")
ds.total <- NULL
#ds$수집연월
#1: 201512
#2: 201606
#3: 201612
#4: 201706
#5: 201712
for (i in 1:length(files)) {
filename = paste("seoul_", files[i], ".xlsx", sep="")
cat("read ", filename, "...\n")         # 읽을 파일 이름 출력
ds = read_excel(filename)
ds = data.frame(ds)
ds = ds[,columns]
ds$수집연월 = rep(i, nrow(ds))
ds.total = rbind(ds.total, ds)
}
columns <- c( "상가업소번호", "상호명", "상권업종대분류명", "상권업종중분류명",
"상권업종소분류명", "시군구명", "행정동명", "경도", "위도")
#reopen with encoding: CP949
getwd()
setwd("/Users/viola_patrinii/Desktop/Univ-MajorHub/2025-Univ-2nd-Year/Introduction-to-Data-Science")
library(ggplot2)
library(ggmap)
library(readxl)
files <- c("201512","201606","201612","201706","201712")
columns <- c( "상가업소번호", "상호명", "상권업종대분류명", "상권업종중분류명",
"상권업종소분류명", "시군구명", "행정동명", "경도", "위도")
ds.total <- NULL
#ds$수집연월
#1: 201512
#2: 201606
#3: 201612
#4: 201706
#5: 201712
for (i in 1:length(files)) {
filename = paste("seoul_", files[i], ".xlsx", sep="")
cat("read ", filename, "...\n")         # 읽을 파일 이름 출력
ds = read_excel(filename)
ds = data.frame(ds)
ds = ds[,columns]
ds$수집연월 = rep(i, nrow(ds))
ds.total = rbind(ds.total, ds)
}
getwd()
#reopen with encoding: CP949
getwd()
setwd("/Users/viola_patrinii/Desktop/Univ-MajorHub/2025-Univ-2nd-Year/Introduction-to-Data-Science")
library(ggplot2)
library(ggmap)
library(readxl)
files <- c("201512","201606","201612","201706","201712")
columns <- c( "상가업소번호", "상호명", "상권업종대분류명", "상권업종중분류명",
"상권업종소분류명", "시군구명", "행정동명", "경도", "위도")
ds.total <- NULL
#ds$수집연월
#1: 201512
#2: 201606
#3: 201612
#4: 201706
#5: 201712
for (i in 1:length(files)) {
filename = paste("seoul_", files[i], ".xlsx", sep="")
cat("read ", filename, "...\n")         # 읽을 파일 이름 출력
ds = read_excel(filename)
ds = data.frame(ds)
ds = ds[,columns]
ds$수집연월 = rep(i, nrow(ds))
ds.total = rbind(ds.total, ds)
}
#reopen with encoding: CP949
getwd()
setwd("/Users/viola_patrinii/Desktop/Univ-MajorHub/2025-Univ-2nd-Year/Introduction-to-Data-Science")
library(ggplot2)
library(ggmap)
library(readxl)
files <- c("201512","201606","201612","201706","201712")
columns <- c( "상가업소번호", "상호명", "상권업종대분류명", "상권업종중분류명",
"상권업종소분류명", "시군구명", "행정동명", "경도", "위도")
ds.total <- NULL
#ds$수집연월
#1: 201512
#2: 201606
#3: 201612
#4: 201706
#5: 201712
for (i in 1:length(files)) {
filename = paste("seoul_", files[i], ".xlsx", sep="")
cat("read ", filename, "...\n")         # 읽을 파일 이름 출력
ds = read_excel(filename)
ds = data.frame(ds)
ds = ds[,columns]
ds$수집연월 = rep(i, nrow(ds))
ds.total = rbind(ds.total, ds)
}
#reopen with encoding: CP949
getwd()
setwd("/Users/viola_patrinii/Desktop/Univ-MajorHub/2025-Univ-2nd-Year/Introduction-to-Data-Science")
library(ggplot2)
library(ggmap)
library(readxl)
files <- c("201512","201606","201612","201706","201712")
columns <- c( "상가업소번호", "상호명", "상권업종대분류명", "상권업종중분류명",
"상권업종소분류명", "시군구명", "행정동명", "경도", "위도")
ds.total <- NULL
#ds$수집연월
#1: 201512
#2: 201606
#3: 201612
#4: 201706
#5: 201712
for (i in 1:length(files)) {
filename = paste("seoul_", files[i], ".xlsx", sep="")
cat("read ", filename, "...\n")         # 읽을 파일 이름 출력
ds = read_excel(filename)
ds = data.frame(ds)
ds = ds[,columns]
ds$수집연월 = rep(i, nrow(ds))
ds.total = rbind(ds.total, ds)
}
#reopen with encoding: CP949
getwd()
setwd("/Users/viola_patrinii/Desktop/Univ-MajorHub/2025-Univ-2nd-Year/Introduction-to-Data-Science")
library(ggplot2)
library(ggmap)
library(readxl)
files <- c("201512","201606","201612","201706","201712")
columns <- c( "상가업소번호", "상호명", "상권업종대분류명", "상권업종중분류명",
"상권업종소분류명", "시군구명", "행정동명", "경도", "위도")
ds.total <- NULL
#ds$수집연월
#1: 201512
#2: 201606
#3: 201612
#4: 201706
#5: 201712
for (i in 1:length(files)) {
filename = paste("seoul_", files[i], ".xlsx", sep="")
cat("read ", filename, "...\n")         # 읽을 파일 이름 출력
ds = read_excel(filename)
ds = data.frame(ds)
ds = ds[,columns]
ds$수집연월 = rep(i, nrow(ds))
ds.total = rbind(ds.total, ds)
}
#reopen with encoding: CP949
getwd()
setwd("/Users/viola_patrinii/Desktop/Univ-MajorHub/2025-Univ-2nd-Year/Introduction-to-Data-Science")
library(ggplot2)
library(ggmap)
library(readxl)
files <- c("201512","201606","201612","201706","201712")
columns <- c( "상가업소번호", "상호명", "상권업종대분류명", "상권업종중분류명",
"상권업종소분류명", "시군구명", "행정동명", "경도", "위도")
ds.total <- NULL
#ds$수집연월
#1: 201512
#2: 201606
#3: 201612
#4: 201706
#5: 201712
for (i in 1:length(files)) {
filename = paste("seoul_", files[i], ".xlsx", sep="")
cat("read ", filename, "...\n")         # 읽을 파일 이름 출력
ds = read_excel(filename)
ds = data.frame(ds)
ds = ds[,columns]
ds$수집연월 = rep(i, nrow(ds))
ds.total = rbind(ds.total, ds)
}
#reopen with encoding: CP949
getwd()
setwd("/Users/viola_patrinii/Desktop/Univ-MajorHub/2025-Univ-2nd-Year/Introduction-to-Data-Science/Practice-Code-gitignore/")
library(ggplot2)
library(ggmap)
library(readxl)
files <- c("201512","201606","201612","201706","201712")
columns <- c( "상가업소번호", "상호명", "상권업종대분류명", "상권업종중분류명",
"상권업종소분류명", "시군구명", "행정동명", "경도", "위도")
ds.total <- NULL
#ds$수집연월
#1: 201512
#2: 201606
#3: 201612
#4: 201706
#5: 201712
for (i in 1:length(files)) {
filename = paste("seoul_", files[i], ".xlsx", sep="")
cat("read ", filename, "...\n")         # 읽을 파일 이름 출력
ds = read_excel(filename)
ds = data.frame(ds)
ds = ds[,columns]
ds$수집연월 = rep(i, nrow(ds))
ds.total = rbind(ds.total, ds)
}
setwd("/Users/viola_patrinii/Desktop/Univ-MajorHub/2025-Univ-2nd-Year/Introduction-to-Data-Science/Practice-Code-gitignore/code-practice11(seoul)")
#reopen with encoding: CP949
getwd()
setwd("/Users/viola_patrinii/Desktop/Univ-MajorHub/2025-Univ-2nd-Year/Introduction-to-Data-Science/Practice-Code-gitignore/code-practice11(seoul)")
library(ggplot2)
library(ggmap)
library(readxl)
files <- c("201512","201606","201612","201706","201712")
columns <- c( "상가업소번호", "상호명", "상권업종대분류명", "상권업종중분류명",
"상권업종소분류명", "시군구명", "행정동명", "경도", "위도")
ds.total <- NULL
#ds$수집연월
#1: 201512
#2: 201606
#3: 201612
#4: 201706
#5: 201712
for (i in 1:length(files)) {
filename = paste("seoul_", files[i], ".xlsx", sep="")
cat("read ", filename, "...\n")         # 읽을 파일 이름 출력
ds = read_excel(filename)
ds = data.frame(ds)
ds = ds[,columns]
ds$수집연월 = rep(i, nrow(ds))
ds.total = rbind(ds.total, ds)
}
dim(ds.total)
head(ds.total)
tail(ds.total)
dim(ds.total)
head(ds.total)
tail(ds.total)
dim(ds.total)
head(ds.total)
tail(ds.total)
# 데이터 구조 확인
str(ds.total)
# 수집연월의 유일값 확인
unique(ds.total$수집연월)
# 상권업종 대분류 확인
unique(ds.total$상권업종대분류명)
# 상권업종 중분류 확인
unique(ds.total$상권업종중분류명)
# 상권업종 소분류 확인
unique(ds.total$상권업종소분류명)
# NA 포함 여부 확인
sum(is.na(ds.total))  # NA 값 개수 확인
ds
#reopen with encoding: CP949
getwd()
setwd("~/Desktop/Univ-MajorHub/2025-Univ-2nd-Year/Introduction-to-Data-Science/서울시상권분석")
library(ggplot2)
library(ggmap)
library(readxl)
files <- c("201512","201606","201612","201706","201712")
columns <- c( "상가업소번호", "상호명", "상권업종대분류명", "상권업종중분류명",
"상권업종소분류명", "시군구명", "행정동명", "경도", "위도")
ds.total <- NULL
#ds$수집연월
#1: 201512
#2: 201606
#3: 201612
#4: 201706
#5: 201712
for (i in 1:length(files)) {
# files에 있는 5개의 파일을 순서대로 1개씩 읽기 위한 반복문
filename <- paste("seoul_", files[i], ".xlsx", sep = "")
cat("read ", filename, "...\n") # 읽을 파일 이름 출력
ds <- read_excel(filename) # 엑셀 파일 읽기
ds <- data.frame(ds) # 데이터프레임 으로 변환
ds <- ds[, columns] # 분석에 필요한 변수만 추출
ds$수집연월 <- rep(i, nrow(ds)) # 데이터 수집 시점
ds.total <- rbind(ds.total, ds) # 데이터 통합
}
#reopen with encoding: CP949
getwd()
setwd("~/Desktop/Univ-MajorHub/2025-Univ-2nd-Year/Introduction-to-Data-Science/서울시상권분석")
library(ggplot2)
library(ggmap)
library(readxl)
files <- c("201512","201606","201612","201706","201712")
columns <- c( "상가업소번호", "상호명", "상권업종대분류명", "상권업종중분류명",
"상권업종소분류명", "시군구명", "행정동명", "경도", "위도")
ds.total <- NULL
#ds$수집연월
#1: 201512
#2: 201606
#3: 201612
#4: 201706
#5: 201712
for (i in 1:length(files)) {
# files에 있는 5개의 파일을 순서대로 1개씩 읽기 위한 반복문
filename <- paste("seoul_", files[i], ".xlsx", sep = "")
cat("read ", filename, "...\n") # 읽을 파일 이름 출력
ds <- read_excel(filename) # 엑셀 파일 읽기
ds <- data.frame(ds) # 데이터프레임 으로 변환
ds <- ds[, columns] # 분석에 필요한 변수만 추출
ds$수집연월 <- rep(i, nrow(ds)) # 데이터 수집 시점
ds.total <- rbind(ds.total, ds) # 데이터 통합
}
#reopen with encoding: CP949
getwd()
setwd("~/Desktop/Univ-MajorHub/2025-Univ-2nd-Year/Introduction-to-Data-Science/서울시상권분석")
library(ggplot2)
library(ggmap)
library(readxl)
files <- c("201512","201606","201612","201706","201712")
columns <- c( "상가업소번호", "상호명", "상권업종대분류명", "상권업종중분류명",
"상권업종소분류명", "시군구명", "행정동명", "경도", "위도")
ds.total <- NULL
#ds$수집연월
#1: 201512
#2: 201606
#3: 201612
#4: 201706
#5: 201712
for (i in 1:length(files)) {
# files에 있는 5개의 파일을 순서대로 1개씩 읽기 위한 반복문
filename <- paste("seoul_", files[i], ".xlsx", sep = "")
cat("read ", filename, "...\n") # 읽을 파일 이름 출력
ds <- read_excel(filename) # 엑셀 파일 읽기
ds <- data.frame(ds) # 데이터프레임 으로 변환
ds <- ds[, columns] # 분석에 필요한 변수만 추출
ds$수집연월 <- rep(i, nrow(ds)) # 데이터 수집 시점
ds.total <- rbind(ds.total, ds) # 데이터 통합
}
#reopen with encoding: CP949
getwd()
#reopen with encoding: CP949
getwd()
setwd("~/Desktop/Univ-MajorHub/2025-Univ-2nd-Year/Introduction-to-Data-Science/code-practice11(seoul)")
#reopen with encoding: CP949
getwd()
setwd("~/Desktop/Univ-MajorHub/2025-Univ-2nd-Year/Introduction-to-Data-Science/code-practice11(seoul)")
#reopen with encoding: CP949
getwd()
setwd("~/Desktop/Univ-MajorHub/2025-Univ-2nd-Year/Introduction-to-Data-Science/code-practice11(seoul)")
setwd("~/Desktop/Univ-MajorHub/2025-Univ-2nd-Year/Introduction-to-Data-Science/code-practice11(seoul)/")
library(ggplot2)
#reopen with encoding: CP949
getwd()
setwd("~/Desktop/Univ-MajorHub/2025-Univ-2nd-Year/Introduction-to-Data-Science/code-practice11(seoul)/")
